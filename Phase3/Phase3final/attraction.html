<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Horizon Resorts - Attractions</title>
    <link rel="stylesheet" href="attraction.css" />
  </head>
  <body>
    <header>
      <div class="logo">HORIZON <span>RESORTS</span></div>
      <nav>
        <ul>
          <li><a href="home.html">Home</a></li>
          <li><a href="about_us.html">About</a></li>
          <li><a href="attraction.html">Attraction</a></li>
          <li><a href="booking.html">Booking</a></li>
          <li><a href="contact_us.html">Contact</a></li>
        </ul>
      </nav>
    </header>
    <section class="hero">
      <img src="./images/1 (1).jpeg" alt="Resort View" />
    </section>
    <section class="content" id="attractions">
      
    </section>
    <footer>
      <div class="footer-content">
        <p>&copy; 2024 Horizon. All rights reserved</p>
        <p>NEWS LETTER</p>
        <div class="social-icons">
          <a href="#"><img src="./images/linked.png" alt="Facebook" /></a>
          <a href="#"><img src="./images/instagram.png" alt="LinkedIn" /></a>
          <a href="#"><img src="./images/facebook.png" alt="Instagram" /></a>
        </div>
      </div>
    </footer>




<script>
const API_URL = "https://travel-advisor.p.rapidapi.com/restaurants/list?location_id=297704&currency=USD&lang=en_US&lunit=km&limit=8";
const RAPIDAPI_HOST = "travel-advisor.p.rapidapi.com";
const RAPIDAPI_KEY = "7d9e6fdc39msh0f8966da609d6adp1a76ffjsna366989208fc"; 

async function fetchAttractions() {
  try {
    const response = await fetch(API_URL, {
      method: "GET",
      headers: {
        "X-RapidAPI-Host": RAPIDAPI_HOST,
        "X-RapidAPI-Key": RAPIDAPI_KEY,
      },
    });

    if (!response.ok) throw new Error(`API call failed: ${response.status}`);

    const data = await response.json();
    return data.data; 
  } catch (error) {
    console.error("Error fetching data:", error);
  }
}


async function populateAttractions() {
  const attractionsContainer = document.getElementById("attractions");
  const attractions = await fetchAttractions();

  if (!attractions || attractions.length === 0) {
    attractionsContainer.innerHTML = "<p>No attractions found.</p>";
    return;
  }

  const maxAttractions = Math.min(attractions.length, 20);

  for (let i = 0; i < maxAttractions; i++) {
    const attraction = attractions[i];
    const card = document.createElement("div");
    card.classList.add("attraction-card");

    card.innerHTML = `
      <div class="placeholder">
        <img src="${attraction.photo ? attraction.photo.images.large.url : 'default.jpg'}" alt="${attraction.name}">
      </div>
      <h3>${attraction.name || "Attraction"}</h3>
      <p>${attraction.description || "No description available."}</p>
    `;

    attraction.photo && attraction.description ? attractionsContainer.appendChild(card) : null;
  }
}

document.addEventListener("DOMContentLoaded", populateAttractions);

</script>

  </body>
</html>
